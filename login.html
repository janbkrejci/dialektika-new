<!DOCTYPE html>
<html lang="cs">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Dialektika | Web dobrovolného sdružení občanů České republiky Dialektika.</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Dialektika" />
<meta property="og:locale" content="cs" />
<meta name="description" content="Web dobrovolného sdružení občanů České republiky Dialektika." />
<meta property="og:description" content="Web dobrovolného sdružení občanů České republiky Dialektika." />
<meta property="og:site_name" content="Dialektika" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Dialektika" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Web dobrovolného sdružení občanů České republiky Dialektika.","headline":"Dialektika","url":"/login"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/app.css">
  <script type='text/javascript'
    src='https://platform-api.sharethis.com/js/sharethis.js#property=602a9e560cf79300112b0f9c&product=inline-share-buttons'
    async='async'></script>
  <script>
    function back() {
      let target = document.referrer;
      if (!target || target.match('login') || target.match('reset')) target = '/';
      window.location.replace(target);
    }
    window.back = back;
  </script>
</head>

<body x-cloak x-data="">
  <main class="grid place-content-center h-full">

  <script>
  // return back if already logged in
  if (localStorage.pocketbase_auth) {
    back()
  }
</script>

<div @keyup.escape.window="back()" x-data="login" @keydown.enter.prevent="next"
  class="w-80 bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700" sm:max-w-md>
  <div class="p-6 space-y-4">
    <!-- title -->
    <h1 class="text-2xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white">
      <span x-show="form == 'login'">Přihlášení</span>
      <span x-show="form == 'register'">Registrace</span>
      <span x-show="form == 'reset'">Obnova hesla</span>
    </h1>
    <!-- form -->
    <form class="space-y-4" action="" method="POST" novalidate @submit.prevent="">
      <!-- results -->
      <div x-show="resetSuccess" class="alert success p-2 text-sm" x-text="resetSuccess">
      </div>
      <div x-show="loginError" class="alert error p-2 text-sm" x-text="loginError"></div>
      <div x-show="registrationError" class="alert error p-2 text-sm" x-text="registrationError"></div>
      <div x-show="resetError" class="alert error p-2 text-sm" x-text="resetError"></div>
      <!-- inputs -->
      <div x-show="form != 'reset'">
        <label for="alias">Uživatel *</label>
        <input id="alias" :class="{'input': true, 'error': aliasError}" type="text" x-model="alias"
          @input="alias = $el.value">
        <div class="error-text" x-text="aliasError"></div>
      </div>
      <div x-show="form != 'login'">
        <label for="email">E-mail *</label>
        <input id="email" :class="{'input': true, 'error': emailError}" type="text" x-model="email"
          :disabled="form == 'login'">
        <div class="error-text" x-text="emailError"></div>
      </div>
      <div x-show="form != 'reset'">
        <label for="password">Heslo *</label>
        <input id="password" :class="{'input': true, 'error': passwordError}" type="password" x-model="password"
          @input="password = $el.value" />
        <div class="error-text" x-text="passwordError"></div>
      </div>
      <div x-show="form == 'register'">
        <label for="password2">Heslo podruhé *</label>
        <input id="password2" :class="{'input': true, 'error': password2Error}" type="password" x-model="password2">
        <div class="error-text" x-text="password2Error"></div>
      </div>
      <!-- submit buttons -->
      <div class="flex items-center justify-between">
        <button class="primary" :disabled="disabled" x-show="form == 'login'" @click="doLogin">
          Přihlásit
        </button>
        <button class="primary" :disabled="disabled" x-show="form == 'reset'" @click="doReset">
          Odeslat kód
        </button>
        <button class="primary" :disabled="disabled" x-show="form == 'register'" @click="doRegister">
          Registrovat
        </button>
        <button class="transparent" @click="back">Storno</button>
      </div>
      <!-- form switchers -->
      <div x-show="form != 'login'" class="form-switch">
        Máte už svůj účet? <a href="" @click.stop.prevent="switchForm('login')">Přihlašte se</a>
      </div>
      <div x-show="form != 'register'" class="form-switch">
        Nemáte ještě účet? <a href="" @click.stop.prevent="switchForm( 'register')">Registrujte se</a>
      </div>
      <div x-show="form != 'reset'" class="form-switch">
        Ztratili jste heslo?
        <a href="" @click.stop.prevent="switchForm('reset')">Obnovte si ho</a>
      </div>
    </form>
  </div>
</div>

</main>
  <script src="/assets/js/app.js"></script>
</body>

</html>