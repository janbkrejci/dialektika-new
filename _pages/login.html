---
permalink: /login
layout: dialogue
---
<script>
  // return back if already logged in
  if (localStorage.pocketbase_auth) {
    back()
  }
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
  type="text/css">

<div class="w3-light-grey" @keyup.escape.window="back()" x-data="login" @keydown.enter="next">
  <div class="w3-white w3-card w3-display-middle" style="min-width: 320px;">
    <div class="w3-bar w3-blue">
      <div x-show="form == 'login'" class="w3-bar-item">Přihlášení</div>
      <div x-show="form == 'register'" class="w3-bar-item">Registrace</div>
      <div x-show="form == 'reset'" class="w3-bar-item">Obnova hesla</div>
    </div>
    <div class="w3-container w3-section">
      <div x-show="resetSuccess" class="w3-alert w3-container w3-margin-bottom w3-padding w3-pale-green"
        x-text="resetSuccess"></div>
      <div x-show="loginError" class="w3-alert w3-container w3-margin-bottom w3-padding w3-pale-red"
        x-text="loginError"></div>
      <div x-show="registrationError" class="w3-alert w3-container w3-margin-bottom w3-padding w3-pale-red"
        x-text="registrationError"></div>
      <div x-show="resetError" class="w3-alert w3-container w3-margin-bottom w3-padding w3-pale-red"
        x-text="resetError"></div>
      <div x-show="form != 'reset'">
        <label>Uživatel *</label>
        <input id="alias" :class="{'w3-input': true, 'w3-pale-red': aliasError}" type="text" x-model="alias"
          @input="alias = $el.value">
        <div class="w3-small w3-text-red" x-text="aliasError"></div>
      </div>
      <div x-show="form != 'login'">
        <label>E-mail *</label>
        <input id="email" :class="{'w3-input': true, 'w3-pale-red': emailError}" type="text" x-model="email"
          :disabled="form == 'login'">
        <div class="w3-small w3-text-red" x-text="emailError"></div>
      </div>
      <div x-show="form != 'reset'" class="w3-section">
        <label>Heslo *</label>
        <input id="password" :class="{'w3-input': true, 'w3-pale-red': passwordError}" type="password"
          x-model="password" @input="password = $el.value" />
        <div class="w3-small w3-text-red" x-text="passwordError"></div>
      </div>
      <div class="w3-section" x-show="form == 'register'">
        <label>Heslo podruhé *</label>
        <input id="password2" :class="{'w3-input': true, 'w3-pale-red': password2Error}" type="password"
          x-model="password2">
        <div class="w3-small w3-text-red" x-text="password2Error"></div>
      </div>
      <div class="w3-section">
        <button :disabled="disabled" x-show="form == 'login'" class="w3-button w3-blue" style="width:40%"
          @click="doLogin">
          <span x-show="!disabled">
            Přihlásit
          </span>
          <i x-show="disabled" class="fa fa-refresh w3-spin"></i>
        </button>
        <button :disabled="disabled" x-show="form == 'reset'" class="w3-button w3-blue" style="width:40%"
          @click="doReset">
          <span x-show="!disabled">
            Odeslat
          </span>
          <i x-show="disabled" class="fa fa-refresh w3-spin"></i>
        </button>
        <button :disabled="disabled" x-show="form == 'register'" class="w3-button w3-blue" style="width:40%"
          @click="register">
          <span x-show="!disabled">
            Registrovat
          </span>
          <i x-show="disabled" class="fa fa-refresh w3-spin"></i>
        </button>
        <button class="w3-right w3-button w3-transparent w3-red" style="width:40%" @click="back()">Storno</button>
      </div>
      <div x-show="form != 'register'" class="w3-text-gray w3-small">
        Nemáte ještě účet? <a href="" @click.stop.prevent="switchForm( 'register')">Registrujte se</a>
      </div>
      <div x-show="form != 'login'" class="w3-text-gray w3-small">
        Máte už svůj účet? <a href="" @click.stop.prevent="switchForm('login')">Přihlašte se</a>
      </div>
      <div x-show="form != 'reset'" class="w3-text-gray w3-small">
        Ztratili jste heslo? <a href="" @click.stop.prevent="switchForm('reset')">Obnovte si ho</a>
      </div>
    </div>
  </div>

</div>